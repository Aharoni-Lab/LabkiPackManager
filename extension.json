{
  "name": "LabkiPackManager",
  "type": "extension",
  "version": "0.1.0",
  "author": ["Aharoni-Lab"],
  "url": "https://github.com/Aharoni-Lab/LabkiPackManager",
  "descriptionmsg": "labkipackmanager-desc",
  "license-name": "GPL-2.0-or-later",
  "requires": {
    "MediaWiki": ">= 1.44"
  },
  "manifest_version": 2,
  "load_composer_autoloader": true,
  "MessagesDirs": {
    "LabkiPackManager": [
      "i18n"
    ]
  },
  "ExtensionMessagesFiles": {
    "LabkiPackManagerAlias": "LabkiPackManager.alias.php"
  },
  "AutoloadNamespaces": {
    "LabkiPackManager\\": "includes/",
    "LabkiPackManager\\Maintenance\\": "maintenance/"
  },
  "ResourceFileModulePaths": {
    "localBasePath": "",
    "remoteExtPath": "LabkiPackManager"
  },
  "ResourceModules": {
    "ext.LabkiPackManager.bundle": {
      "scripts": [
        "resources/modules/ext.LabkiPackManager/app.bundle.js"
      ],
      "styles": [
        "resources/css/labkipackmanager.css"
      ],
      "messages": [
        "labkipackmanager-ui-content-repo",
        "labkipackmanager-ui-current",
        "labkipackmanager-ui-load",
        "labkipackmanager-ui-refresh",
        "labkipackmanager-ui-included",
        "labkipackmanager-ui-not-included",
        "labkipackmanager-ui-no-packs",
        "labkipackmanager-ui-selected-packs",
        "labkipackmanager-ui-fetched",
        "labkipackmanager-ui-cache-suffix",
        "labkipackmanager-load-success",
        "labkipackmanager-refresh-success"
      ],
      "dependencies": [
        "mediawiki.util",
        "vue",
        "@wikimedia/codex",
        "codex-styles"
      ]
    }
  },
  "APIModules": {
    "labkiQuery": "LabkiPackManager\\API\\ApiLabkiQuery",
    "labkiUpdate": "LabkiPackManager\\API\\ApiLabkiUpdate",
    "labkiManifestGet": "LabkiPackManager\\API\\Manifests\\ApiLabkiManifestGet",
    "labkiHierarchyGet": "LabkiPackManager\\API\\Manifests\\ApiLabkiHierarchyGet",
    "labkiGraphGet": "LabkiPackManager\\API\\Manifests\\ApiLabkiGraphGet",
    "labkiPagesExists": "LabkiPackManager\\API\\Pages\\ApiLabkiPagesExists",
    "labkiReposList": "LabkiPackManager\\API\\Repos\\ApiLabkiReposList",
    "labkiReposAdd": "LabkiPackManager\\API\\Repos\\ApiLabkiReposAdd",
    "labkiReposSync": "LabkiPackManager\\API\\Repos\\ApiLabkiReposSync",
    "labkiReposRemove": "LabkiPackManager\\API\\Repos\\ApiLabkiReposRemove",
		"labkiPacksList": "LabkiPackManager\\API\\Packs\\ApiLabkiPacksList",
		"labkiPacksPreview": "LabkiPackManager\\API\\Packs\\ApiLabkiPacksPreview",
		"labkiPacksState": "LabkiPackManager\\API\\Packs\\ApiLabkiPacksState",
		"labkiOperationsStatus": "LabkiPackManager\\API\\Operations\\ApiLabkiOperationsStatus"
  },
	"JobClasses": {
		"labkiRepoAdd": "LabkiPackManager\\Jobs\\LabkiRepoAddJob",
		"labkiRepoSync": "LabkiPackManager\\Jobs\\LabkiRepoSyncJob",
		"labkiRepoRemove": "LabkiPackManager\\Jobs\\LabkiRepoRemoveJob",
		"labkiPackApply": "LabkiPackManager\\Jobs\\LabkiPackApplyJob"
	},
  "Hooks": {
    "LoadExtensionSchemaUpdates": "LabkiPackManager\\Hooks\\SchemaHooks::onLoadExtensionSchemaUpdates",
    "BeforePageDisplay": "LabkiPackManager\\Hooks\\LabkiPackManagerHooks::onBeforePageDisplay",
    "SkinBuildSidebar": "LabkiPackManager\\Hooks\\SidebarHook::onSkinBuildSidebar"
  },
  "MaintenanceScripts": {
    "BackfillLabkiRegistry": "maintenance/BackfillLabkiRegistry.php"
  },
  "SpecialPages": {
    "LabkiPackManager": "LabkiPackManager\\Special\\SpecialLabkiPackManager",
    "LabkiDBViewer": "LabkiPackManager\\Special\\SpecialLabkiDBViewer"
  },
  "SpecialPageGroups": {
      "LabkiPackManager": "labki",
      "LabkiDBViewer": "labki"
  },
  "config": {
    "LabkiContentSources": {
      "value": [
        {
          "url": "https://github.com/Aharoni-Lab/labki-packs",
          "ref": ["main", "v1.0.0"]
        },        
        {
          "url": "https://github.com/Aharoni-Lab/labki-base-packs"
        }
      ],
      "description": "Array of content repositories with optional Git ref (branch, tag, or commit)."
    },
    "LabkiDefaultBranch": {
      "value": "main",
      "description": "Default branch or tag to display for content sources that support branches."
    },
    "LabkiCacheTTL": {
      "value": 300,
      "description": "Base cache TTL in seconds for fetched manifests."
    },
    "LabkiSchemaIndexUrl": {
      "value": "https://raw.githubusercontent.com/Aharoni-Lab/labki-packs-tools/main/schema/index.json",
      "description": "Index of schema versions for Labki manifests."
    },
    "LabkiSchemaCacheTTL": {
      "value": 300,
      "description": "TTL for schema index caching (future use)."
    },
    "LabkiGlobalPrefix": {
      "value": "",
      "description": "Optional global prefix to apply to renamed pages (collision avoidance)."
    },
    "LabkiEnableDBViewer": {
      "value": false,
      "description": "If true, enables the Labki database viewer special page."
    }
  },
  "AvailableRights": [
    "labkipackmanager-manage"
  ],
  "GroupPermissions": {
    "sysop": {
      "labkipackmanager-manage": true
    }
  }
}

